{"version":3,"sources":["webpack:///src/components/addUser.vue","webpack:///./src/util/reg.js","webpack:///./src/components/addUser.vue?4109","webpack:///./src/components/addUser.vue","webpack:///src/pages/user.vue","webpack:///./src/pages/user.vue?6de1","webpack:///./src/pages/user.vue"],"names":["addUser","props","components","data","user","name","pass","email","tel","sex","idx","des","time","confirm","methods","extends_default","Object","vuex_esm","requestFindUserAction","changeIsRequestAction","cancel","this","obj","isAdd","empty","showDialog","add","_this","test","Date","getTime","request","then","res","util_alert","info","find","id","_this2","parseInt","_id","update","_this3","components_addUser","render","_vm","_h","$createElement","_c","_self","attrs","title","visible","on","update:visible","$event","$set","span","_v","placeholder","model","value","callback","$$v","expression","show-password","_e","label","disabled","type","staticClass","slot","click","staticRenderFns","src_components_addUser","__webpack_require__","normalizeComponent","ssrContext","computed","list","willAdd","look","$refs","del","mounted","beforeRouteEnter","to","from","next","localStorage","getItem","pages_user","nativeOn","border","stripe","height","prop","scopedSlots","_u","key","fn","scope","_s","_f","row","ref","user_Component","user_normalizeComponent","__webpack_exports__"],"mappings":"kKA6EAA,GACAC,OAAA,OACAC,cACAC,KAHA,WAIA,OACAC,MACAC,KAAA,GACAC,KAAA,GACAC,MAAA,GACAC,IAAA,GACAC,IAAA,GACAC,IAAA,GACAC,IAAA,GACAC,KAAA,IAEAC,QAAA,KAGAC,QAAWC,OACXC,OAAAC,EAAA,EAAAD,EACAE,sBAAA,6BACAC,sBAAA,gCAGAC,OANA,WAOAC,KAAAC,IAAAC,OACAF,KAAAG,QAEAH,KAAAC,IAAAG,YAAA,GAGAD,MAbA,WAcAH,KAAAjB,MACAC,KAAA,GACAC,KAAA,GACAC,MAAA,GACAC,IAAA,GACAC,IAAA,GACAC,IAAA,GACAC,IAAA,GACAC,KAAA,IAEAS,KAAAR,QAAA,IAGAa,IA3BA,WA2BA,IC1HqBlB,EAKAE,EDqHrBiB,EAAAN,KACAA,KAAAjB,KAAAE,OAAAe,KAAAR,SC3HqBL,ED+HrBa,KAAAjB,KAAAI,IC9Hc,qBACCoB,KAAKpB,IAGCE,ED+HrBW,KAAAjB,KAAAM,IC9Hc,8FAECkB,KAAKlB,IDkIpBW,KAAAjB,KAAAQ,KAAA,IAAAiB,KAAAR,KAAAjB,KAAAQ,MAAAkB,UAGMd,OAAAe,EAAA,EAAAf,CAANK,KAAAjB,MAAA4B,KAAA,SAAAC,GACAA,IAEUjB,OAAAkB,EAAA,EAAAlB,CAAViB,EAAA9B,KAAAgC,MAEAR,EAAAH,QAEAG,EAAAP,SAEAO,EAAAR,uBAAA,GACAQ,EAAAT,4BAlBQF,OAAAkB,EAAA,EAAAlB,CAAR,cALQA,OAAAkB,EAAA,EAAAlB,CAAR,aAJQA,OAAAkB,EAAA,EAAAlB,CAAR,YAgCAoB,KA7DA,SA6DAC,GAAA,IAAAC,EAAAjB,KAEML,OAAAe,EAAA,EAAAf,EAANqB,OAAAL,KAAA,SAAAC,GACAA,IACAK,EAAAlC,KAAA6B,EAAA9B,UAAA,GACAmC,EAAAlC,KAAAQ,KAAA,IAAAiB,KAAAU,SAAAD,EAAAlC,KAAAQ,cACA0B,EAAAlC,KAAAoC,QAKAC,OAxEA,WAwEA,IAAAC,EAAArB,KACAA,KAAAjB,KAAAQ,KAAA,IAAAiB,KAAAR,KAAAjB,KAAAQ,MAAAkB,UAEMd,OAAAe,EAAA,EAAAf,CAANK,KAAAjB,MAAA4B,KAAA,SAAAC,GACAA,IACUjB,OAAAkB,EAAA,EAAAlB,CAAViB,EAAA9B,KAAAgC,MACAO,EAAAlB,QACAkB,EAAAtB,SACAsB,EAAAvB,uBAAA,GACAuB,EAAAxB,+BE7KeyB,GADEC,OAFjB,WAA0B,IAAAC,EAAAxB,KAAayB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,aAAiCE,OAAOC,MAAAN,EAAAvB,IAAAC,MAAA,cAAA6B,QAAAP,EAAAvB,IAAAG,YAAiE4B,IAAKC,iBAAA,SAAAC,GAAkC,OAAAV,EAAAW,KAAAX,EAAAvB,IAAA,aAAAiC,OAAiDP,EAAA,UAAAA,EAAA,UAA4BE,OAAOO,KAAA,KAAUZ,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAV,EAAA,UAA0CE,OAAOO,KAAA,MAAWT,EAAA,YAAiBE,OAAOS,YAAA,SAAsBC,OAAQC,MAAAhB,EAAAzC,KAAA,KAAA0D,SAAA,SAAAC,GAA+ClB,EAAAW,KAAAX,EAAAzC,KAAA,OAAA2D,IAAgCC,WAAA,gBAAyB,OAAAnB,EAAAa,GAAA,KAAAV,EAAA,UAAAA,EAAA,UAAgDE,OAAOO,KAAA,KAAUZ,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAV,EAAA,UAA0CE,OAAOO,KAAA,MAAWT,EAAA,YAAiBE,OAAOS,YAAA,QAAAM,gBAAA,IAAyCL,OAAQC,MAAAhB,EAAAzC,KAAA,KAAA0D,SAAA,SAAAC,GAA+ClB,EAAAW,KAAAX,EAAAzC,KAAA,OAAA2D,IAAgCC,WAAA,gBAAyB,OAAAnB,EAAAa,GAAA,KAAAb,EAAAvB,IAAA,MAAA0B,EAAA,UAAAA,EAAA,UAAgEE,OAAOO,KAAA,KAAUZ,EAAAa,GAAA,UAAAb,EAAAa,GAAA,KAAAV,EAAA,UAA4CE,OAAOO,KAAA,MAAWT,EAAA,YAAiBE,OAAOS,YAAA,UAAAM,gBAAA,IAA2CL,OAAQC,MAAAhB,EAAA,QAAAiB,SAAA,SAAAC,GAA6ClB,EAAAhC,QAAAkD,GAAgBC,WAAA,cAAuB,OAAAnB,EAAAqB,KAAArB,EAAAa,GAAA,KAAAV,EAAA,UAAAA,EAAA,UAAyDE,OAAOO,KAAA,KAAUZ,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAV,EAAA,UAA0CE,OAAOO,KAAA,MAAWT,EAAA,YAAiBE,OAAOS,YAAA,SAAsBC,OAAQC,MAAAhB,EAAAzC,KAAA,MAAA0D,SAAA,SAAAC,GAAgDlB,EAAAW,KAAAX,EAAAzC,KAAA,QAAA2D,IAAiCC,WAAA,iBAA0B,OAAAnB,EAAAa,GAAA,KAAAV,EAAA,UAAAA,EAAA,UAAgDE,OAAOO,KAAA,KAAUZ,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAV,EAAA,UAA0CE,OAAOO,KAAA,MAAWT,EAAA,YAAiBE,OAAOS,YAAA,SAAsBC,OAAQC,MAAAhB,EAAAzC,KAAA,IAAA0D,SAAA,SAAAC,GAA8ClB,EAAAW,KAAAX,EAAAzC,KAAA,MAAA2D,IAA+BC,WAAA,eAAwB,OAAAnB,EAAAa,GAAA,KAAAV,EAAA,UAAAA,EAAA,UAAgDE,OAAOO,KAAA,KAAUZ,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAV,EAAA,UAA0CE,OAAOO,KAAA,MAAWT,EAAA,YAAiBE,OAAOiB,MAAA,IAAAC,UAAAvB,EAAAvB,IAAAC,OAAsCqC,OAAQC,MAAAhB,EAAAzC,KAAA,IAAA0D,SAAA,SAAAC,GAA8ClB,EAAAW,KAAAX,EAAAzC,KAAA,MAAA2D,IAA+BC,WAAA,cAAwBnB,EAAAa,GAAA,OAAAb,EAAAa,GAAA,KAAAV,EAAA,YAA2CE,OAAOiB,MAAA,IAAAC,UAAAvB,EAAAvB,IAAAC,OAAsCqC,OAAQC,MAAAhB,EAAAzC,KAAA,IAAA0D,SAAA,SAAAC,GAA8ClB,EAAAW,KAAAX,EAAAzC,KAAA,MAAA2D,IAA+BC,WAAA,cAAwBnB,EAAAa,GAAA,eAAAb,EAAAa,GAAA,KAAAV,EAAA,UAAAA,EAAA,UAA8DE,OAAOO,KAAA,KAAUZ,EAAAa,GAAA,UAAAb,EAAAa,GAAA,KAAAV,EAAA,UAA4CE,OAAOO,KAAA,MAAWT,EAAA,YAAiBE,OAAOS,YAAA,UAAAS,UAAAvB,EAAAvB,IAAAC,OAAkDqC,OAAQC,MAAAhB,EAAAzC,KAAA,IAAA0D,SAAA,SAAAC,GAA8ClB,EAAAW,KAAAX,EAAAzC,KAAA,MAAA2D,IAA+BC,WAAA,eAAwB,OAAAnB,EAAAa,GAAA,KAAAV,EAAA,UAAAA,EAAA,UAAgDE,OAAOO,KAAA,KAAUZ,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAV,EAAA,UAA0CE,OAAOO,KAAA,MAAWT,EAAA,YAAiBE,OAAOS,YAAA,SAAsBC,OAAQC,MAAAhB,EAAAzC,KAAA,IAAA0D,SAAA,SAAAC,GAA8ClB,EAAAW,KAAAX,EAAAzC,KAAA,MAAA2D,IAA+BC,WAAA,eAAwB,OAAAnB,EAAAa,GAAA,KAAAV,EAAA,UAAAA,EAAA,UAAgDE,OAAOO,KAAA,KAAUZ,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAV,EAAA,UAA0CE,OAAOO,KAAA,MAAWT,EAAA,kBAAuBE,OAAOmB,KAAA,OAAAD,UAAAvB,EAAAvB,IAAAC,OAAwCqC,OAAQC,MAAAhB,EAAAzC,KAAA,KAAA0D,SAAA,SAAAC,GAA+ClB,EAAAW,KAAAX,EAAAzC,KAAA,OAAA2D,IAAgCC,WAAA,gBAAyB,OAAAnB,EAAAa,GAAA,KAAAV,EAAA,OAAgCsB,YAAA,4BAAApB,OAA+CqB,KAAA,UAAgBA,KAAA,WAAevB,EAAA,aAAkBsB,YAAA,WAAAjB,IAA2BmB,MAAA,SAAAjB,GAAyB,OAAAV,EAAAzB,aAAsByB,EAAAa,GAAA,SAAAb,EAAAa,GAAA,KAAAb,EAAAvB,IAAA,MAAA0B,EAAA,aAA8DsB,YAAA,cAAApB,OAAiCmB,KAAA,WAAiBhB,IAAKmB,MAAA3B,EAAAnB,OAAiBmB,EAAAa,GAAA,SAAAV,EAAA,aAAkCsB,YAAA,cAAApB,OAAiCmB,KAAA,WAAiBhB,IAAKmB,MAAA3B,EAAAJ,UAAoBI,EAAAa,GAAA,sBAEp+Ge,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACE5E,EACA2C,GATF,EAVA,SAAAkC,GACEF,EAAQ,SAaV,kBAEA,MAUgC,QCShCvE,GACA0E,SAAY/D,OACZC,OAAAC,EAAA,EAAAD,EACA+D,KAAA,eAGA5E,KANA,WAOA,OACAmB,KACAG,YAAA,EACAF,OAAA,KAIAT,QAAWC,OACXC,OAAAC,EAAA,EAAAD,EACAE,sBAAA,6BACAC,sBAAA,gCAGA6D,QANA,WAOA3D,KAAAC,IAAAG,YAAA,EACAJ,KAAAC,IAAAC,OAAA,GAGA0D,KAXA,SAWA5C,GAEAhB,KAAAC,IAAAG,YAAA,EACAJ,KAAAC,IAAAC,OAAA,EACAF,KAAA6D,MAAAxD,IAAAU,KAAAC,IAGA8C,IAlBA,SAkBA9C,GAAA,IAAAV,EAAAN,KACML,OAAAe,EAAA,EAAAf,CAANqB,GAAAL,KAAA,SAAAC,GACAA,IACUjB,OAAAkB,EAAA,EAAAlB,CAAViB,EAAA9B,KAAAgC,MACAR,EAAAR,uBAAA,GACAQ,EAAAT,8BAKAkE,QA1CA,WA4CA/D,KAAAH,yBAEAhB,YACAF,QAAA0E,GAEAW,iBAjDA,SAiDAC,EAAAC,EAAAC,GACA,IAAAnB,EAAAoB,aAAAC,QAAA,QACA,KAAArB,GAAA,KAAAA,EACAmB,IAEAA,EAAA,oBCtFeG,GADE/C,OAFP,WAAgB,IAAAC,EAAAxB,KAAayB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+B4C,UAAUpB,MAAA,SAAAjB,GAAyB,OAAAV,EAAAmC,QAAAzB,OAA6BV,EAAAa,GAAA,KAAAV,EAAA,OAAwBsB,YAAA,kBAA4BtB,EAAA,YAAiBsB,YAAA,QAAApB,OAA2B/C,KAAA0C,EAAAkC,KAAAc,OAAA,GAAAC,OAAA,GAAAC,OAAA,SAAwD/C,EAAA,mBAAwBE,OAAO8C,KAAA,OAAA7B,MAAA,QAA4BtB,EAAAa,GAAA,KAAAV,EAAA,mBAAoCE,OAAO8C,KAAA,MAAA7B,MAAA,QAA2BtB,EAAAa,GAAA,KAAAV,EAAA,mBAAoCE,OAAO8C,KAAA,MAAA7B,MAAA,SAA4BtB,EAAAa,GAAA,KAAAV,EAAA,mBAAoCE,OAAOiB,MAAA,MAAa8B,YAAApD,EAAAqD,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAArD,EAAA,OAAAH,EAAAa,GAAAb,EAAAyD,GAAAzD,EAAA0D,GAAA,aAAA1D,CAAAwD,EAAAG,IAAA5F,iBAA8EiC,EAAAa,GAAA,KAAAV,EAAA,mBAAoCE,OAAOiB,MAAA,MAAa8B,YAAApD,EAAAqD,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAArD,EAAA,OAAAA,EAAA,aAAkCsB,YAAA,YAAApB,OAA+BmB,KAAA,WAAiBhB,IAAKmB,MAAA,SAAAjB,GAAyB,OAAAV,EAAAoC,KAAAoB,EAAAG,IAAAnE,QAAgCQ,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAV,EAAA,WAA2CE,OAAOb,GAAAgE,EAAAG,IAAAnE,IAAkBgB,IAAK8B,IAAA,SAAA5B,GAAuB,OAAAV,EAAAsC,IAAAtC,EAAAR,SAAyB,WAAW,OAAAQ,EAAAa,GAAA,KAAAV,EAAA,YAAqCyD,IAAA,MAAAvD,OAAiB5B,IAAAuB,EAAAvB,QAAe,IAE7nCmD,oBCChC,IAcIiC,EAdqB/B,EAAQ,OAcjBgC,CACdvG,EACAuF,GAT6B,EAV/B,SAAoBd,GAClBF,EAAQ,SAaS,kBAEU,MAUdiC,EAAA,QAAAF,EAAiB","file":"static/js/1.9d6683a6f5d15ff09ea7.js","sourcesContent":["<template>\n  <div>\n    <el-dialog :title=\"obj.isAdd?'新增用户':'修改用户'\" :visible.sync=\"obj.showDialog\">\n      <el-row>\n        <el-col :span=\"4\">账号</el-col>\n        <el-col :span=\"20\">\n          <el-input placeholder=\"请输入账号\" v-model=\"user.name\" ></el-input>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"4\">密码</el-col>\n        <el-col :span=\"20\">\n          <el-input placeholder=\"请输入密码\" show-password v-model=\"user.pass\" ></el-input>\n        </el-col>\n      </el-row>\n      <el-row v-if=\"obj.isAdd\">\n        <el-col :span=\"4\">确认密码</el-col>\n        <el-col :span=\"20\">\n          <el-input placeholder=\"请输入确认密码\" show-password v-model=\"confirm\"></el-input>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"4\">邮箱</el-col>\n        <el-col :span=\"20\">\n          <el-input placeholder=\"请输入邮箱\" v-model=\"user.email\" ></el-input>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"4\">电话</el-col>\n        <el-col :span=\"20\">\n          <el-input placeholder=\"请输入电话\" v-model=\"user.tel\" ></el-input>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"4\">性别</el-col>\n        <el-col :span=\"20\">\n          <el-radio v-model=\"user.sex\" label=\"男\" :disabled=\"!obj.isAdd\">男</el-radio>\n          <el-radio v-model=\"user.sex\" label=\"女\" :disabled=\"!obj.isAdd\">女</el-radio>\n        </el-col>\n      </el-row>\n\n      <el-row>\n        <el-col :span=\"4\">身份证号</el-col>\n        <el-col :span=\"20\">\n          <el-input placeholder=\"请输入身份证号\" v-model=\"user.idx\" :disabled=\"!obj.isAdd\"></el-input>\n        </el-col>\n      </el-row>\n\n      <el-row>\n        <el-col :span=\"4\">备注</el-col>\n        <el-col :span=\"20\">\n          <el-input placeholder=\"请输入备注\" v-model=\"user.des\"></el-input>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"4\">生日</el-col>\n        <el-col :span=\"20\">\n          <el-date-picker type=\"date\" v-model=\"user.time\" :disabled=\"!obj.isAdd\"></el-date-picker>\n        </el-col>\n      </el-row>\n      <div slot=\"footer\" class=\"dialog-footer text-center\">\n        <el-button class=\"btn-info\" @click=\"cancel()\">取 消</el-button>\n        <el-button type=\"primary\" class=\"btn-default\" @click=\"add\" v-if=\"obj.isAdd\">添 加</el-button>\n        <el-button type=\"primary\" class=\"btn-default\" v-else @click=\"update\">修 改</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport {\n  requestAddUser,\n  requestFindUser,\n  requestUpdateUser\n} from \"../util/request\";\nimport { warningAlert, successAlert } from \"../util/alert\";\nimport { mapActions } from \"vuex\";\nimport {regTel,regIdx} from \"../util/reg\"\nexport default {\n  props: [\"obj\"],\n  components: {},\n  data() {\n    return {\n      user: {\n        name: \"\",\n        pass: \"\",\n        email: \"\",\n        tel: \"\",\n        sex: \"\",\n        idx: \"\",\n        des: \"\",\n        time: \"\"\n      },\n      confirm: \"\" //确认密码\n    };\n  },\n  methods: {\n    ...mapActions({\n      requestFindUserAction: \"user/requestFindUserAction\",\n      changeIsRequestAction: \"user/changeIsRequestAction\"\n    }),\n    //弹框消失\n    cancel() {\n      if (!this.obj.isAdd) {\n        this.empty();\n      }\n      this.obj.showDialog = false;\n    },\n    //user重置\n    empty() {\n      this.user = {\n        name: \"\",\n        pass: \"\",\n        email: \"\",\n        tel: \"\",\n        sex: \"\",\n        idx: \"\",\n        des: \"\",\n        time: \"\"\n      };\n      this.confirm = \"\";\n    },\n    //确定添加\n    add() {\n      if (this.user.pass !== this.confirm) {\n        warningAlert(\"两次密码不一致\");\n        return;\n      }\n      if(!regTel(this.user.tel)){\n        warningAlert(\"手机号格式不正确\");\n        return\n      }\n\n      if(!regIdx(this.user.idx)){\n        warningAlert(\"身份证号格式不正确\");\n        return\n      }\n\n      //时间转换为时间戳传递\n      this.user.time = new Date(this.user.time).getTime();\n\n      //添加请求\n      requestAddUser(this.user).then(res => {\n        if (res) {\n          //弹了添加成功\n          successAlert(res.data.info);\n          //user重置了\n          this.empty();\n          //弹框消失\n          this.cancel();\n          //manage组件要重新查询用户\n          this.changeIsRequestAction(true);\n          this.requestFindUserAction();\n        }\n      });\n    },\n    //根据id查询\n    find(id) {\n      //发起根据id查询管理员请求\n      requestFindUser({ id: id }).then(res => {\n        if (res) {\n          this.user = res.data.data[0];\n          this.user.time = new Date(parseInt(this.user.time));\n          delete this.user._id;\n        }\n      });\n    },\n    //修改\n    update() {\n      this.user.time = new Date(this.user.time).getTime();\n\n      requestUpdateUser(this.user).then(res => {\n        if (res) {\n          successAlert(res.data.info);\n          this.empty();\n          this.cancel();\n          this.changeIsRequestAction(true)\n          this.requestFindUserAction();\n        }\n      });\n    }\n  }\n};\n</script>\n<style lang=\"stylus\" scoped>\n@import '../stylus/index.styl';\n\n.el-col {\n  line-height: $inputHeight;\n  margin-bottom: $margin;\n  text-align: center;\n  color: $black;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/addUser.vue","export const regTel=(tel)=>{\n    const reg=/^1[3456789]\\d{9}$/g\n    return reg.test(tel)\n}\n\nexport const regIdx=(idx)=>{\n    const reg=/^[1-9]\\d{5}(18|19|20|(3\\d))\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$/g;\n\n    return reg.test(idx)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/reg.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":_vm.obj.isAdd?'新增用户':'修改用户',\"visible\":_vm.obj.showDialog},on:{\"update:visible\":function($event){return _vm.$set(_vm.obj, \"showDialog\", $event)}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"账号\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"placeholder\":\"请输入账号\"},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"密码\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.user.pass),callback:function ($$v) {_vm.$set(_vm.user, \"pass\", $$v)},expression:\"user.pass\"}})],1)],1),_vm._v(\" \"),(_vm.obj.isAdd)?_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"确认密码\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"placeholder\":\"请输入确认密码\",\"show-password\":\"\"},model:{value:(_vm.confirm),callback:function ($$v) {_vm.confirm=$$v},expression:\"confirm\"}})],1)],1):_vm._e(),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"邮箱\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"电话\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"placeholder\":\"请输入电话\"},model:{value:(_vm.user.tel),callback:function ($$v) {_vm.$set(_vm.user, \"tel\", $$v)},expression:\"user.tel\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"性别\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-radio',{attrs:{\"label\":\"男\",\"disabled\":!_vm.obj.isAdd},model:{value:(_vm.user.sex),callback:function ($$v) {_vm.$set(_vm.user, \"sex\", $$v)},expression:\"user.sex\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"女\",\"disabled\":!_vm.obj.isAdd},model:{value:(_vm.user.sex),callback:function ($$v) {_vm.$set(_vm.user, \"sex\", $$v)},expression:\"user.sex\"}},[_vm._v(\"女\")])],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"身份证号\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"placeholder\":\"请输入身份证号\",\"disabled\":!_vm.obj.isAdd},model:{value:(_vm.user.idx),callback:function ($$v) {_vm.$set(_vm.user, \"idx\", $$v)},expression:\"user.idx\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"备注\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"placeholder\":\"请输入备注\"},model:{value:(_vm.user.des),callback:function ($$v) {_vm.$set(_vm.user, \"des\", $$v)},expression:\"user.des\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"生日\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"disabled\":!_vm.obj.isAdd},model:{value:(_vm.user.time),callback:function ($$v) {_vm.$set(_vm.user, \"time\", $$v)},expression:\"user.time\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer text-center\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticClass:\"btn-info\",on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.obj.isAdd)?_c('el-button',{staticClass:\"btn-default\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添 加\")]):_c('el-button',{staticClass:\"btn-default\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"修 改\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-e4311410\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/addUser.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e4311410\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./addUser.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addUser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addUser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e4311410\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./addUser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e4311410\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/addUser.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <add-btn @click.native=\"willAdd\"></add-btn>\n\n    <!-- 3.展示所有的用户信息 -->\n    <div class=\"table-wrapper\">\n      <el-table :data=\"list\" border stripe class=\"table\" height=\"400\">\n        <el-table-column prop=\"name\" label=\"账号\"></el-table-column>\n        <el-table-column prop=\"tel\" label=\"电话\"></el-table-column>\n        <el-table-column prop=\"idx\" label=\"身份号\"></el-table-column>\n        <el-table-column label=\"生日\">\n          <template slot-scope=\"scope\">\n            <div>{{scope.row.time|timeFilter}}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <div>\n              <el-button type=\"primary\" class=\"btn-black\" @click=\"look(scope.row.id)\">查看</el-button>\n              <del-btn :id='scope.row.id' @del=\"del(id)\"></del-btn>\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n\n    <!-- 添加的弹框 -->\n    <add-user :obj=\"obj\" ref=\"add\"></add-user>\n  </div>\n</template>\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nimport addUser from \"../components/addUser\";\nimport { requestDelUser } from \"../util/request\";\nimport { successAlert } from \"../util/alert\";\nexport default {\n  computed: {\n    ...mapGetters({\n      list: \"user/list\"\n    })\n  },\n  data() {\n    return {\n      obj: {\n        showDialog: false, //弹框出现的状态\n        isAdd: true //如果是新增，就是true；如果是修改，就是false\n      }\n    };\n  },\n  methods: {\n    ...mapActions({\n      requestFindUserAction: \"user/requestFindUserAction\",\n      changeIsRequestAction: \"user/changeIsRequestAction\"\n    }),\n    //点击了新增按钮，弹框出现\n    willAdd() {\n      this.obj.showDialog = true;\n      this.obj.isAdd = true; //新增\n    },\n    //点击了查看按钮\n    look(id) {\n      //弹框出现\n      this.obj.showDialog = true;\n      this.obj.isAdd = false; //修改\n      this.$refs.add.find(id);\n    },\n    //删除\n    del(id) {\n      requestDelUser(id).then(res => {\n          if (res) {\n            successAlert(res.data.info);\n            this.changeIsRequestAction(true);\n            this.requestFindUserAction();\n          }\n        });\n    }\n  },\n  mounted() {\n    //一进来页面就触发\n    this.requestFindUserAction();\n  },\n  components: {\n    addUser\n  },\n  beforeRouteEnter (to, from, next) {\n    var type=localStorage.getItem(\"type\");\n    if(type==\"0\"||type==\"1\"){\n      next();\n    }else{\n      next(\"/index/welcome\")\n    }\n  }\n};\n</script>\n<style lang=\"stylus\" scoped>\n@import '../stylus/index.styl';\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/user.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('add-btn',{nativeOn:{\"click\":function($event){return _vm.willAdd($event)}}}),_vm._v(\" \"),_c('div',{staticClass:\"table-wrapper\"},[_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.list,\"border\":\"\",\"stripe\":\"\",\"height\":\"400\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"账号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"tel\",\"label\":\"电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"idx\",\"label\":\"身份号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"生日\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(_vm._f(\"timeFilter\")(scope.row.time)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{staticClass:\"btn-black\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.look(scope.row.id)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('del-btn',{attrs:{\"id\":scope.row.id},on:{\"del\":function($event){return _vm.del(_vm.id)}}})],1)]}}])})],1)],1),_vm._v(\" \"),_c('add-user',{ref:\"add\",attrs:{\"obj\":_vm.obj}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6fd681ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6fd681ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./user.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./user.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./user.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6fd681ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./user.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6fd681ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}